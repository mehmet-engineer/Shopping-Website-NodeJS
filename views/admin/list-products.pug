extends ../layouts/main-layout.pug

block content

    if action == "add"
        .alert.alert-success New product has been successfully added.
    
    if action == "edit"
        .alert.alert-success Product has been successfully edited.

    if action == "delete"
        .alert.alert-danger Product has been successfully deleted.
    
    if products.length > 0
        table.table.table-bordered
            thead
                tr
                    th ID
                    th Image
                    th Category
                    th Product Name
                    th Price
                    th Description
                    th Actions
            tbody
                each product in products
                    tr
                        td #{product.product_id}
                        td 
                            img(src=`/img/${product.image}`, width="80")
                        td #{product.category_name}
                        td #{product.name}
                        td #{product.price} TL
                        td #{product.description}
                        td
                            a.btn.btn-primary.btn-sm(href=`/admin/edit-product/${product.product_id}`) Edit
                            
                            form(action="/admin/delete-product" method="POST")
                                input(type="hidden" name="id" value=`${product.product_id}`)         
                                button(type="submit").btn.btn-danger.btn-sm.ml-1 Delete
                            
    else
        h1 No Products Available